{"id":"opencode-swarm-monorepo-lf2p4u-mjbspr114qy","title":"Consolidate semantic-memory into swarm-mail","description":"## Semantic Memory Consolidation\n\n> *\"Making a system simpler does not necessarily mean reducing its functionality; it can also mean removing accidental complexity.\"*\n> — Martin Kleppmann, *Designing Data-Intensive Applications*\n\nEmbed semantic-memory functionality directly into swarm-mail, eliminating the separate MCP server and duplicate PGLite instance.\n\n### What We're Removing (Accidental Complexity)\n- Separate MCP server process\n- Separate PGLite instance (duplicate memory usage)\n- Cross-process IPC overhead\n- Separate config/setup\n\n### What We're Adding\n- Memory tables in swarm-mail schema\n- Ollama integration for embeddings\n- Migration path for existing memories\n- Unified search API\n\n### Architecture After\n```\nswarm-mail (single PGLite)\n├─ events table\n├─ hive tables  \n├─ agent_mail tables\n└─ memories + embeddings ← NEW\n```\n\n### Success Criteria\n1. `semantic-memory_*` tools work without separate MCP server\n2. Existing memories migrated to swarm-mail PGLite\n3. Single PGLite instance for all data\n4. Graceful fallback when Ollama unavailable (FTS only)\n5. `bun add opencode-swarm-plugin` includes memory functionality\n\n### References\n- Source: https://github.com/joelhooks/semantic-memory\n- PGLite version: 0.3.14 (same as swarm-mail)\n- Parent cell: mjbqs7xge52","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-18T18:50:33.110Z","updated_at":"2025-12-18T20:13:38.814Z","closed_at":"2025-12-18T20:13:38.814Z","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjbspr1qe8z","title":"Add migration tool for existing semantic-memory data","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T18:50:33.134Z","updated_at":"2025-12-18T20:06:28.470Z","closed_at":"2025-12-18T20:06:28.470Z","parent_id":"opencode-swarm-monorepo-lf2p4u-mjbspr114qy","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjbspr1ur1v","title":"Integration tests for memory + hive + agent-mail","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T18:50:33.138Z","updated_at":"2025-12-18T20:06:39.321Z","closed_at":"2025-12-18T20:06:39.321Z","parent_id":"opencode-swarm-monorepo-lf2p4u-mjbspr114qy","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjbspr1wenn","title":"Update docs and add deprecation notice for standalone MCP","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T18:50:33.140Z","updated_at":"2025-12-18T20:13:32.654Z","closed_at":"2025-12-18T20:13:32.654Z","parent_id":"opencode-swarm-monorepo-lf2p4u-mjbspr114qy","dependencies":[],"labels":[],"comments":[]}